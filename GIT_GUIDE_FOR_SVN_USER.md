# SVN 사용자를 위한 Git 가이드: "브랜치가 갈라졌다(Diverged)"는 의미와 해결법

SVN을 오래 사용하셨다면 **"중앙 저장소(Server)가 진리"**라는 개념에 익숙하실 겁니다. Git이 헷갈리는 가장 큰 이유는 **"내 컴퓨터에도 온전한 저장소가 있다(Local)"**는 점 때문입니다.

## 1. 오늘 발생한 상황: "Diverged (갈라짐)"

```text
원격 저장소 (GitHub):  A --- B  (내가 모르는 사이에 누군가 B를 올림)
                           \
내 컴퓨터 (Local):          \--- C  (나는 A 상태에서 C를 작업해서 커밋함)
```

SVN에서는 내가 커밋(Commit)하려면 무조건 `svn update`를 먼저 해서 최신 소스를 받고 충돌을 해결한 뒤에야 서버에 올라갑니다.

하지만 **Git에서는 서버와 상관없이 내 컴퓨터에 '커밋(C)'을 할 수 있습니다.**
그러다 보니, **서버에는 B가 있고, 내 컴퓨터에는 C가 있는 상황**이 발생합니다.
서로 다른 길을 갔기 때문에 **"갈라졌다(Diverged)"**라고 표현합니다.

## 2. 핵심 비교: Merge vs Rebase

이 두 갈래 길을 다시 하나로 합쳐야 `git push`를 할 수 있습니다. 가장 큰 차이는 **"역사(History)를 어떻게 남기느냐"**입니다.

### 방법 A: Merge (병합) - "역사 보존가"
*   **방식**: 내 갈래(C)와 서버 갈래(B)를 합치는 **새로운 '연결 매듭(Merge Commit)'**을 만듭니다.
*   **시각화**:
    ```text
          A --- B
           \     \
            \----- C --- D (Merge Commit)
    ```
*   **특징**: 
    *   가지가 뻗어나갔다가 합쳐지는 모양이 그대로 남습니다.
    *   "언제 합쳤는지" 정확한 시점이 기록됩니다.
    *   단점: 작업이 많아지면 지하철 노선도처럼 복잡해집니다.

### 방법 B: Rebase (재배치) - "역사 정리정돈" (추천!)
*   **방식**: 내 커밋(C)을 잠시 들어내고, **서버의 최신 상태(B) 뒤에 내 작업을 다시 실행(Re-play)**하여 붙입니다.
*   **시각화**:
    ```text
    A --- B --- C' (내 작업이 B 뒤로 이동함)
    ```
*   **특징**:
    *   마치 내가 처음부터 B 상태에서 작업을 시작했던 것처럼 역사가 일직선이 됩니다.
    *   **SVN 스타일**: SVN에서 `update` 받고 커밋하면 일직선으로 쌓이는 것과 같습니다.
    *   단점: 충돌 해결이 조금 더 까다로울 수 있습니다(과거의 시점을 현재로 옮기는 과정이라).

## 3. 실전 명령어 (앞으로 이렇게 하세요)

작업한 것을 올리려고(`git push`) 했는데, "rejected" 되거나 "diverged" 되었다고 나오면 다음 순서로 진행하세요.

### 1단계: 원격 변경사항 가져와서 내 작업 위에 다시 쌓기 (Rebase)
```bash
git pull --rebase origin main
```
*   `pull`: 가져와라.
*   `--rebase`: 합치는 방식은 Rebase(재배치)로 해라.
*   **이 과정에서 충돌(Conflict)이 날 수 있습니다.** (SVN 충돌 해결과 같습니다. 파일 열어서 수정 후 `git add` -> `git rebase --continue`)

### 2단계: 서버에 올리기
```bash
git push origin main
```
*   이제 내 로컬 역사가 서버 역사와 매끄럽게 이어지므로 쭉 밀어넣을 수 있습니다.

## 4. 요약
*   **Merge**: "사실 그대로 남기자" (길이 복잡해짐)
*   **Rebase**: "깔끔하게 줄 세우자" (SVN 사용자에게 익숙한 결과물)

이 파일을 저장해두고 헷갈리실 때마다 참고하세요.
