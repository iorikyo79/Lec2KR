# Lec2KR (Lecture to Korean) 🎓🇰🇷

**Lec2KR**은 **DeepLearning.AI** 및 **Coursera**와 같은 플랫폼의 영어 기술 강의를 위해 실시간, 문맥 인식 한국어 번역을 제공하는 Chrome 확장 프로그램입니다.

**Google Gemini API** (Gemini 2.0 Flash Lite)를 기반으로 하며, 자막의 전후 문맥을 고려하여 기술 콘텐츠에 대한 자연스러운 번역을 보장합니다.

## ✨ 주요 기능

*   **실시간 번역**: 비디오 플레이어 위에 한국어 자막을 오버레이로 표시합니다.
*   **문맥 인식**: 흐름을 유지하고 기술 용어를 올바르게 처리하기 위해 이전 및 다음 문장을 기반으로 번역합니다.
*   **전체 스크립트 번역**: 원활한 재생을 위해 백그라운드에서 전체 강의 스크립트를 자동으로 번역합니다.
*   **내보내기 지원**:
    *   **Export EN**: 원본 영어 스크립트 다운로드.
    *   **Export KR**: 완전히 번역된 한국어 스크립트 다운로드.
*   **가져오기 지원**:
    *   **Import**: 번역된 JSON 파일을 직접 업로드하여 API 호출 없이 자막 사용 가능.
*   **속도 모드**:
    *   **Stable**: 최대 안정성을 위한 순차 처리.
    *   **Fast**: 빠른 번역을 위한 병렬 처리 (권장).
*   **드래그 가능한 UI**: 자막 오버레이를 화면 어디에나 배치할 수 있습니다.

## 🚀 설치 방법

1.  이 저장소를 복제하거나 다운로드합니다.
2.  Chrome을 열고 `chrome://extensions/`로 이동합니다.
3.  **개발자 모드**를 활성화합니다 (우측 상단 토글).
4.  **압축해제된 확장 프로그램을 로드합니다**를 클릭합니다.
5.  `Lec2KR` 폴더를 선택합니다.

## 🛠 사용 방법

1.  Chrome 툴바에서 확장 프로그램 아이콘을 클릭합니다.
2.  **Gemini API Key**를 입력합니다 ([Google AI Studio](https://aistudio.google.com/)에서 발급 가능).
3.  선호하는 **번역 속도(Translation Speed)**를 선택합니다 (Fast 권장).
4.  **Save Settings**를 클릭합니다.
5.  DeepLearning.AI 또는 Coursera의 강의로 이동합니다.
6.  오버레이가 자동으로 나타납니다.
    *   **상태**: 번역 진행 상황을 표시합니다 (예: "Translating... 45%").
    *   **내보내기**: 오버레이 헤더의 `EN` / `KR` 버튼을 사용하여 스크립트를 다운로드합니다.

### 🤖 Gemini 수동 번역 프롬프트

API 호출 할당량이 부족하거나 더 정교한 번역을 원할 경우, `Export EN`으로 다운로드한 텍스트 파일을 복사하여 Gemini 웹사이트나 AI Studio에 직접 붙여넣고 아래 프롬프트를 사용하여 번역할 수 있습니다. 번역된 결과를 `.txt` 또는 `.json`으로 저장하여 `Import` 기능을 통해 적용하세요.

```text
당신은 전문 자막 번역가입니다. 내가 제공하는 영어 자막(txt)을 한국어 자막(json)으로 번역하세요.

다음 4가지 [동기화 절대 원칙]을 반드시 준수해야 합니다. [입출력 예제]를 참고하여 한국어 자막의 템플릿에 맞춰 자막을 생성하세요. 준비가되면 영문 자막을 요청해주세요



[동기화 절대 원칙]

1. **타임스탬프 개수 일치 (1:1 Mapping)**:

- 입력된 원문 리스트의 개수와 출력된 번역 리스트의 개수는 **정확히 일치**해야 합니다. (입력 크기 == 출력 크기)

- 절대 리스트 항목을 추가하거나 삭제하지 마세요.



2. **문맥 기반 번역 (Context-Aware Translation)**:

- 각 타임스탬프의 텍스트를 독립적으로 보지 말고, 앞뒤 문맥을 연결하여 자연스러운 문장으로 번역하세요.

- 문장이 끊겨 있더라도 전체 의미를 파악한 뒤 한국어 어순에 맞게 적절히 배치하세요.



3. **문장 구조 동기화 (Structure Sync)**:

- 원문의 문장 개수와 번역문의 문장 개수는 동일해야 합니다.

- 영어 문장이 3개의 타임스탬프에 걸쳐 있다면, 한국어 문장도 반드시 동일한 3개의 타임스탬프에 걸쳐 있어야 합니다.



4. **비율 유지 분할 (Proportional Split)**:

- 원문에서 하나의 문장이 두 타임스탬프에 [AAA… / BBB…] 형태로 나뉘어 있다면,

- 번역문도 [가가가… / 나나나…] 형태로 동일한 비율로 나누어야 합니다.

- **절대** 한쪽 타임스탬프에 내용을 몰아넣지 마세요. 시각적/시간적 길이를 원문과 비슷하게 유지하세요.



[입출력 예제]

- input example: [TimeStamp]"English script"
[00:00:04] I've worked with many different teams on building agentic workflows, and I've found that one
[00:00:05] of the biggest predictors for whether someone is able to do it really well versus be less

- output example :[TimeStamp]"Kor script"
[
{
 "id":"00:00:04",
"text":"저는 수많은 팀과 에이전트 워크플로를 구축해 보았는데,"
},
{
"id":"00:00:05",
"이를 정말 잘하는지 아니면 효율성이 떨어지는지를 예측하는 가장 큰 지표는"
}
]
```

## 🔧 기술 스택

*   **Manifest V3**: 최신 Chrome 확장 프로그램 아키텍처.
*   **Google Gemini API**: 고속, 비용 효율적인 번역을 위해 `gemini-2.0-flash-lite` 사용.
*   **Vanilla JS**: 무거운 프레임워크 없는 경량 구현.

## 📝 라이선스

MIT License
